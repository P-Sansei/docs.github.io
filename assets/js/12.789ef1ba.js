(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{230:function(s,a,t){"use strict";t.r(a);var n=t(2),e=Object(n.a)({},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"java系列-linux解决生产问题-日志分析"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#java系列-linux解决生产问题-日志分析","aria-hidden":"true"}},[s._v("#")]),s._v(" Java系列-Linux解决生产问题[日志分析]")]),s._v(" "),t("h2",{attrs:{id:"准备工作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#准备工作","aria-hidden":"true"}},[s._v("#")]),s._v(" 准备工作")]),s._v(" "),t("p",[s._v("Linux环境下，代码发现Bug，第一反应是到Linux下拉日志下来看")]),s._v(" "),t("p",[s._v("这里推荐终端工具")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",{staticStyle:{"text-align":"left"}},[s._v("工具")]),s._v(" "),t("th",{staticStyle:{"text-align":"left"}},[s._v("下载地址")])])]),s._v(" "),t("tbody",[t("tr",[t("td",{staticStyle:{"text-align":"left"}},[s._v("FinalShell")]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[t("a",{attrs:{href:"http://www.hostbuf.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://www.hostbuf.com/"),t("OutboundLink")],1)])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[s._v("Xshell")]),s._v(" "),t("td",{staticStyle:{"text-align":"left"}},[t("a",{attrs:{href:"https://xshell.en.softonic.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://xshell.en.softonic.com/"),t("OutboundLink")],1)])])])]),s._v(" "),t("h2",{attrs:{id:"常见命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常见命令","aria-hidden":"true"}},[s._v("#")]),s._v(" 常见命令")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("tail")]),s._v(": 实时看日志")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 实时查看日志,开发环境还行，生产就算了，日志猛刷啊")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# tail -f 1000 *.log")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v(" -f *.log  \n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 实时看异常日志还是可以的")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tail")]),s._v(" -f error.log\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("ul",[t("li",[t("code",[s._v("vi")]),s._v(": 编辑文本")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入日志文件")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" x.log\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 保存退出")]),s._v("\n:wq \n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 退出不保存(!: 强制)")]),s._v("\n:q"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" \n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 跳至当前文本最后一行 【看最新的日志，都在最下面】")]),s._v("\nShift+g \n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 跳至当前文本第一行")]),s._v("\ng+g \n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br")])]),t("ul",[t("li",[t("code",[s._v("grep")]),s._v(": 专抓日志，grep是必备日志分析命令")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用频率最高")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -r "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'关键字如商品ID'")]),s._v(" *.log\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 条件结果中，在加条件筛选下")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'关键字如商品ID'")]),s._v(" *.log "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" 免费商品\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 相关日志输入到一个txt中，下载到本地慢慢看")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'关键字如商品ID'")]),s._v(" *.log "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" sansei.txt\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示商品ID及后5行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -A 2 "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'商品ID'")]),s._v(" *.log\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示商品ID及上5行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -B 2 "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'商品ID'")]),s._v(" *.log\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 显示商品ID及上下5行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" -C 2 "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'商品ID'")]),s._v(" *.log\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#高亮显示商品ID，非常醒目啊")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'商品ID'")]),s._v(" *.log  --col\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br")])]),t("ul",[t("li",[t("code",[s._v("host")]),s._v("：查物域名IP")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),s._v(" 域名 【查具体IP】\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[t("code",[s._v("curl")]),s._v(": 快速查看接口是否能调通，通了会有消息返回的，联调环境经常用")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看controller接口网络通不通，蛮实用的")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" 你的url请求全路径\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("ul",[t("li",[t("code",[s._v("杀僵尸进程")]),s._v(": kill 进程")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 先查java进程ID")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -ef "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" java\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 生产环境谨慎使用")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" -9 java进程ID\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])])])},[],!1,null,null,null);a.default=e.exports}}]);